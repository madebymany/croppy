require=function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){(function(global){"use strict";var ES=require("es-abstract/es6"),$isNaN=Number.isNaN||function(a){return a!==a},$isFinite=Number.isFinite||function(n){return"number"==typeof n&&global.isFinite(n)},indexOf=Array.prototype.indexOf;module.exports=function(searchElement){var fromIndex=arguments.length>1?ES.ToInteger(arguments[1]):0;if(indexOf&&!$isNaN(searchElement)&&$isFinite(fromIndex)&&"undefined"!=typeof searchElement)return indexOf.apply(this,arguments)>-1;var O=ES.ToObject(this),length=ES.ToLength(O.length);if(0===length)return!1;for(var k=fromIndex>=0?fromIndex:Math.max(0,length+fromIndex);length>k;){if(ES.SameValueZero(searchElement,O[k]))return!0;k+=1}return!1}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"es-abstract/es6":7}],2:[function(require,module,exports){"use strict";var define=require("define-properties"),ES=require("es-abstract/es6"),implementation=require("./implementation"),getPolyfill=require("./polyfill"),shim=require("./shim"),slice=Array.prototype.slice,boundIncludesShim=function(array,searchElement){return ES.RequireObjectCoercible(array),implementation.apply(array,slice.call(arguments,1))};define(boundIncludesShim,{implementation:implementation,getPolyfill:getPolyfill,shim:shim}),module.exports=boundIncludesShim},{"./implementation":1,"./polyfill":3,"./shim":4,"define-properties":5,"es-abstract/es6":7}],3:[function(require,module,exports){"use strict";var implementation=require("./implementation");module.exports=function(){return Array.prototype.includes||implementation}},{"./implementation":1}],4:[function(require,module,exports){"use strict";var define=require("define-properties"),getPolyfill=require("./polyfill");module.exports=function(){var polyfill=getPolyfill();return Array.prototype.includes!==polyfill&&define(Array.prototype,{includes:polyfill}),polyfill}},{"./polyfill":3,"define-properties":5}],5:[function(require,module,exports){"use strict";var keys=require("object-keys"),foreach=require("foreach"),hasSymbols="function"==typeof Symbol&&"symbol"==typeof Symbol(),toStr=Object.prototype.toString,isFunction=function(fn){return"function"==typeof fn&&"[object Function]"===toStr.call(fn)},arePropertyDescriptorsSupported=function(){var obj={};try{Object.defineProperty(obj,"x",{enumerable:!1,value:obj});for(var _ in obj)return!1;return obj.x===obj}catch(e){return!1}},supportsDescriptors=Object.defineProperty&&arePropertyDescriptorsSupported(),defineProperty=function(object,name,value,predicate){(!(name in object)||isFunction(predicate)&&predicate())&&(supportsDescriptors?Object.defineProperty(object,name,{configurable:!0,enumerable:!1,value:value,writable:!0}):object[name]=value)},defineProperties=function(object,map){var predicates=arguments.length>2?arguments[2]:{},props=keys(map);hasSymbols&&(props=props.concat(Object.getOwnPropertySymbols(map))),foreach(props,function(name){defineProperty(object,name,map[name],predicates[name])})};defineProperties.supportsDescriptors=!!supportsDescriptors,module.exports=defineProperties},{foreach:18,"object-keys":29}],6:[function(require,module,exports){"use strict";var $isNaN=Number.isNaN||function(a){return a!==a},$isFinite=require("./helpers/isFinite"),sign=require("./helpers/sign"),mod=require("./helpers/mod"),IsCallable=require("is-callable"),toPrimitive=require("es-to-primitive/es5"),ES5={ToPrimitive:toPrimitive,ToBoolean:function(value){return Boolean(value)},ToNumber:function(value){return Number(value)},ToInteger:function(value){var number=this.ToNumber(value);return $isNaN(number)?0:0!==number&&$isFinite(number)?sign(number)*Math.floor(Math.abs(number)):number},ToInt32:function(x){return this.ToNumber(x)>>0},ToUint32:function(x){return this.ToNumber(x)>>>0},ToUint16:function(value){var number=this.ToNumber(value);if($isNaN(number)||0===number||!$isFinite(number))return 0;var posInt=sign(number)*Math.floor(Math.abs(number));return mod(posInt,65536)},ToString:function(value){return String(value)},ToObject:function(value){return this.CheckObjectCoercible(value),Object(value)},CheckObjectCoercible:function(value,optMessage){if(null==value)throw new TypeError(optMessage||"Cannot call method on "+value);return value},IsCallable:IsCallable,SameValue:function(x,y){return x===y?0===x?1/x===1/y:!0:$isNaN(x)&&$isNaN(y)}};module.exports=ES5},{"./helpers/isFinite":9,"./helpers/mod":11,"./helpers/sign":12,"es-to-primitive/es5":13,"is-callable":21}],7:[function(require,module,exports){"use strict";var toStr=Object.prototype.toString,hasSymbols="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,symbolToStr=hasSymbols?Symbol.prototype.toString:toStr,$isNaN=Number.isNaN||function(a){return a!==a},$isFinite=require("./helpers/isFinite"),MAX_SAFE_INTEGER=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1,assign=require("./helpers/assign"),sign=require("./helpers/sign"),mod=require("./helpers/mod"),isPrimitive=require("./helpers/isPrimitive"),toPrimitive=require("es-to-primitive/es6"),parseInteger=parseInt,bind=require("function-bind"),strSlice=bind.call(Function.call,String.prototype.slice),isBinary=bind.call(Function.call,RegExp.prototype.test,/^0b[01]+$/i),isOctal=bind.call(Function.call,RegExp.prototype.test,/^0o[0-7]+$/i),nonWS=["","​","￾"].join(""),nonWSregex=new RegExp("["+nonWS+"]","g"),hasNonWS=bind.call(Function.call,RegExp.prototype.test,nonWSregex),invalidHexLiteral=/^[\-\+]0x[0-9a-f]+$/i,isInvalidHexLiteral=bind.call(Function.call,RegExp.prototype.test,invalidHexLiteral),ws=["	\n\f\r   ᠎    ","         　\u2028","\u2029\ufeff"].join(""),trimRegex=new RegExp("(^["+ws+"]+)|(["+ws+"]+$)","g"),replace=bind.call(Function.call,String.prototype.replace),trim=function(value){return replace(value,trimRegex,"")},ES5=require("./es5"),hasRegExpMatcher=require("is-regex"),ES6=assign(assign({},ES5),{Call:function(F,V){var args=arguments.length>2?arguments[2]:[];if(!this.IsCallable(F))throw new TypeError(F+" is not a function");return F.apply(V,args)},ToPrimitive:toPrimitive,ToNumber:function(argument){var value=isPrimitive(argument)?argument:toPrimitive(argument,"number");if("symbol"==typeof value)throw new TypeError("Cannot convert a Symbol value to a number");if("string"==typeof value){if(isBinary(value))return this.ToNumber(parseInteger(strSlice(value,2),2));if(isOctal(value))return this.ToNumber(parseInteger(strSlice(value,2),8));if(hasNonWS(value)||isInvalidHexLiteral(value))return NaN;var trimmed=trim(value);if(trimmed!==value)return this.ToNumber(trimmed)}return Number(value)},ToInt16:function(argument){var int16bit=this.ToUint16(argument);return int16bit>=32768?int16bit-65536:int16bit},ToInt8:function(argument){var int8bit=this.ToUint8(argument);return int8bit>=128?int8bit-256:int8bit},ToUint8:function(argument){var number=this.ToNumber(argument);if($isNaN(number)||0===number||!$isFinite(number))return 0;var posInt=sign(number)*Math.floor(Math.abs(number));return mod(posInt,256)},ToUint8Clamp:function(argument){var number=this.ToNumber(argument);if($isNaN(number)||0>=number)return 0;if(number>=255)return 255;var f=Math.floor(argument);return number>f+.5?f+1:f+.5>number?f:f%2!==0?f+1:f},ToString:function(argument){if("symbol"==typeof argument)throw new TypeError("Cannot convert a Symbol value to a string");return String(argument)},ToObject:function(value){return this.RequireObjectCoercible(value),Object(value)},ToPropertyKey:function(argument){var key=this.ToPrimitive(argument,String);return"symbol"==typeof key?symbolToStr.call(key):this.ToString(key)},ToLength:function(argument){var len=this.ToInteger(argument);return 0>=len?0:len>MAX_SAFE_INTEGER?MAX_SAFE_INTEGER:len},CanonicalNumericIndexString:function(argument){if("[object String]"!==toStr.call(argument))throw new TypeError("must be a string");if("-0"===argument)return-0;var n=this.ToNumber(argument);return this.SameValue(this.ToString(n),argument)?n:void 0},RequireObjectCoercible:ES5.CheckObjectCoercible,IsArray:Array.isArray||function(argument){return"[object Array]"===toStr.call(argument)},IsConstructor:function(argument){return this.IsCallable(argument)},IsExtensible:function(obj){return Object.preventExtensions?isPrimitive(obj)?!1:Object.isExtensible(obj):!0},IsInteger:function(argument){if("number"!=typeof argument||$isNaN(argument)||!$isFinite(argument))return!1;var abs=Math.abs(argument);return Math.floor(abs)===abs},IsPropertyKey:function(argument){return"string"==typeof argument||"symbol"==typeof argument},IsRegExp:function(argument){if(!argument||"object"!=typeof argument)return!1;if(hasSymbols){var isRegExp=RegExp[Symbol.match];if("undefined"!=typeof isRegExp)return ES5.ToBoolean(isRegExp)}return hasRegExpMatcher(argument)},SameValueZero:function(x,y){return x===y||$isNaN(x)&&$isNaN(y)}});delete ES6.CheckObjectCoercible,module.exports=ES6},{"./es5":6,"./helpers/assign":8,"./helpers/isFinite":9,"./helpers/isPrimitive":10,"./helpers/mod":11,"./helpers/sign":12,"es-to-primitive/es6":14,"function-bind":19,"is-regex":23}],8:[function(require,module,exports){var has=Object.prototype.hasOwnProperty;module.exports=Object.assign||function(target,source){for(var key in source)has.call(source,key)&&(target[key]=source[key]);return target}},{}],9:[function(require,module,exports){var $isNaN=Number.isNaN||function(a){return a!==a};module.exports=Number.isFinite||function(x){return"number"==typeof x&&!$isNaN(x)&&x!==1/0&&x!==-(1/0)}},{}],10:[function(require,module,exports){module.exports=function(value){return null===value||"function"!=typeof value&&"object"!=typeof value}},{}],11:[function(require,module,exports){module.exports=function(number,modulo){var remain=number%modulo;return Math.floor(remain>=0?remain:remain+modulo)}},{}],12:[function(require,module,exports){module.exports=function(number){return number>=0?1:-1}},{}],13:[function(require,module,exports){"use strict";var toStr=Object.prototype.toString,isPrimitive=require("./helpers/isPrimitive");require("is-callable");module.exports=function(input,PreferredType){if(isPrimitive(input))return input;if(arguments.length<2&&(PreferredType="[object Date]"===toStr.call(input)?String:Number),PreferredType===String)return String(input);if(PreferredType===Number)return Number(input);throw new TypeError("invalid PreferredType supplied")}},{"./helpers/isPrimitive":15,"is-callable":21}],14:[function(require,module,exports){"use strict";var hasSymbols="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,isPrimitive=require("./helpers/isPrimitive"),isCallable=require("is-callable"),isDate=require("is-date-object"),isSymbol=require("is-symbol"),ordinaryToPrimitive=function(O,hint){if(null==O)throw new TypeError("Cannot call method on "+O);if("string"!=typeof hint||"number"!==hint&&"string"!==hint)throw new TypeError('hint must be "string" or "number"');var method,result,i,methodNames="string"===hint?["toString","valueOf"]:["valueOf","toString"];for(i=0;i<methodNames.length;++i)if(method=O[methodNames[i]],isCallable(method)&&(result=method.call(O),isPrimitive(result)))return result;throw new TypeError("No default value")};module.exports=function(input,PreferredType){if(isPrimitive(input))return input;var hint="default";arguments.length>1&&(PreferredType===String?hint="string":PreferredType===Number&&(hint="number"));var exoticToPrim;if(hasSymbols){if(Symbol.toPrimitive)throw new TypeError("Symbol.toPrimitive not supported yet");isSymbol(input)&&(exoticToPrim=Symbol.prototype.valueOf)}if("undefined"!=typeof exoticToPrim){var result=exoticToPrim.call(input,hint);if(isPrimitive(result))return result;throw new TypeError("unable to convert exotic object to primitive")}return"default"===hint&&(isDate(input)||isSymbol(input))&&(hint="string"),ordinaryToPrimitive(input,"default"===hint?"number":hint)}},{"./helpers/isPrimitive":15,"is-callable":21,"is-date-object":22,"is-symbol":24}],15:[function(require,module,exports){arguments[4][10][0].apply(exports,arguments)},{dup:10}],16:[function(require,module,exports){!function(root,factory){"use strict";"function"==typeof define&&define.amd?define(factory):"object"==typeof exports?module.exports=factory():root.returnExports=factory()}(this,function(){var isCallable,$Array=Array,ArrayPrototype=$Array.prototype,$Object=Object,ObjectPrototype=$Object.prototype,FunctionPrototype=Function.prototype,$String=String,StringPrototype=$String.prototype,$Number=Number,NumberPrototype=$Number.prototype,array_slice=ArrayPrototype.slice,array_splice=ArrayPrototype.splice,array_push=ArrayPrototype.push,array_unshift=ArrayPrototype.unshift,array_concat=ArrayPrototype.concat,call=FunctionPrototype.call,max=Math.max,min=Math.min,to_string=ObjectPrototype.toString,hasToStringTag="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,fnToStr=Function.prototype.toString,tryFunctionObject=function(value){try{return fnToStr.call(value),!0}catch(e){return!1}},fnClass="[object Function]",genClass="[object GeneratorFunction]";isCallable=function(value){if("function"!=typeof value)return!1;if(hasToStringTag)return tryFunctionObject(value);var strClass=to_string.call(value);return strClass===fnClass||strClass===genClass};var isRegex,regexExec=RegExp.prototype.exec,tryRegexExec=function(value){try{return regexExec.call(value),!0}catch(e){return!1}},regexClass="[object RegExp]";isRegex=function(value){return"object"!=typeof value?!1:hasToStringTag?tryRegexExec(value):to_string.call(value)===regexClass};var isString,strValue=String.prototype.valueOf,tryStringObject=function(value){try{return strValue.call(value),!0}catch(e){return!1}},stringClass="[object String]";isString=function(value){return"string"==typeof value?!0:"object"!=typeof value?!1:hasToStringTag?tryStringObject(value):to_string.call(value)===stringClass};var defineProperties=function(has){var defineProperty,supportsDescriptors=$Object.defineProperty&&function(){try{var obj={};$Object.defineProperty(obj,"x",{enumerable:!1,value:obj});for(var _ in obj)return!1;return obj.x===obj}catch(e){return!1}}();return defineProperty=supportsDescriptors?function(object,name,method,forceAssign){!forceAssign&&name in object||$Object.defineProperty(object,name,{configurable:!0,enumerable:!1,writable:!0,value:method})}:function(object,name,method,forceAssign){!forceAssign&&name in object||(object[name]=method)},function(object,map,forceAssign){for(var name in map)has.call(map,name)&&defineProperty(object,name,map[name],forceAssign)}}(ObjectPrototype.hasOwnProperty),isPrimitive=function(input){var type=typeof input;return null===input||"object"!==type&&"function"!==type},isActualNaN=$Number.isNaN||function(x){return x!==x},ES={ToInteger:function(num){var n=+num;return isActualNaN(n)?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n},ToPrimitive:function(input){var val,valueOf,toStr;if(isPrimitive(input))return input;if(valueOf=input.valueOf,isCallable(valueOf)&&(val=valueOf.call(input),isPrimitive(val)))return val;if(toStr=input.toString,isCallable(toStr)&&(val=toStr.call(input),isPrimitive(val)))return val;throw new TypeError},ToObject:function(o){if(null==o)throw new TypeError("can't convert "+o+" to object");return $Object(o)},ToUint32:function(x){return x>>>0}},Empty=function(){};defineProperties(FunctionPrototype,{bind:function(that){var target=this;if(!isCallable(target))throw new TypeError("Function.prototype.bind called on incompatible "+target);for(var bound,args=array_slice.call(arguments,1),binder=function(){if(this instanceof bound){var result=target.apply(this,array_concat.call(args,array_slice.call(arguments)));return $Object(result)===result?result:this}return target.apply(that,array_concat.call(args,array_slice.call(arguments)))},boundLength=max(0,target.length-args.length),boundArgs=[],i=0;boundLength>i;i++)array_push.call(boundArgs,"$"+i);return bound=Function("binder","return function ("+boundArgs.join(",")+"){ return binder.apply(this, arguments); }")(binder),target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound}});var owns=call.bind(ObjectPrototype.hasOwnProperty),toStr=call.bind(ObjectPrototype.toString),strSlice=call.bind(StringPrototype.slice),strSplit=call.bind(StringPrototype.split),strIndexOf=call.bind(StringPrototype.indexOf),push=call.bind(array_push),isArray=$Array.isArray||function(obj){return"[object Array]"===toStr(obj)},hasUnshiftReturnValueBug=1!==[].unshift(0);defineProperties(ArrayPrototype,{unshift:function(){return array_unshift.apply(this,arguments),this.length}},hasUnshiftReturnValueBug),defineProperties($Array,{isArray:isArray});var boxedString=$Object("a"),splitString="a"!==boxedString[0]||!(0 in boxedString),properlyBoxesContext=function(method){var properlyBoxesNonStrict=!0,properlyBoxesStrict=!0;return method&&(method.call("foo",function(_,__,context){"object"!=typeof context&&(properlyBoxesNonStrict=!1)}),method.call([1],function(){"use strict";properlyBoxesStrict="string"==typeof this},"x")),!!method&&properlyBoxesNonStrict&&properlyBoxesStrict};defineProperties(ArrayPrototype,{forEach:function(callbackfn){var T,object=ES.ToObject(this),self=splitString&&isString(this)?strSplit(this,""):object,i=-1,length=ES.ToUint32(self.length);if(arguments.length>1&&(T=arguments[1]),!isCallable(callbackfn))throw new TypeError("Array.prototype.forEach callback must be a function");for(;++i<length;)i in self&&("undefined"==typeof T?callbackfn(self[i],i,object):callbackfn.call(T,self[i],i,object))}},!properlyBoxesContext(ArrayPrototype.forEach)),defineProperties(ArrayPrototype,{map:function(callbackfn){var T,object=ES.ToObject(this),self=splitString&&isString(this)?strSplit(this,""):object,length=ES.ToUint32(self.length),result=$Array(length);if(arguments.length>1&&(T=arguments[1]),!isCallable(callbackfn))throw new TypeError("Array.prototype.map callback must be a function");for(var i=0;length>i;i++)i in self&&("undefined"==typeof T?result[i]=callbackfn(self[i],i,object):result[i]=callbackfn.call(T,self[i],i,object));return result}},!properlyBoxesContext(ArrayPrototype.map)),defineProperties(ArrayPrototype,{filter:function(callbackfn){var value,T,object=ES.ToObject(this),self=splitString&&isString(this)?strSplit(this,""):object,length=ES.ToUint32(self.length),result=[];if(arguments.length>1&&(T=arguments[1]),!isCallable(callbackfn))throw new TypeError("Array.prototype.filter callback must be a function");for(var i=0;length>i;i++)i in self&&(value=self[i],("undefined"==typeof T?callbackfn(value,i,object):callbackfn.call(T,value,i,object))&&push(result,value));return result}},!properlyBoxesContext(ArrayPrototype.filter)),defineProperties(ArrayPrototype,{every:function(callbackfn){var T,object=ES.ToObject(this),self=splitString&&isString(this)?strSplit(this,""):object,length=ES.ToUint32(self.length);if(arguments.length>1&&(T=arguments[1]),!isCallable(callbackfn))throw new TypeError("Array.prototype.every callback must be a function");for(var i=0;length>i;i++)if(i in self&&!("undefined"==typeof T?callbackfn(self[i],i,object):callbackfn.call(T,self[i],i,object)))return!1;return!0}},!properlyBoxesContext(ArrayPrototype.every)),defineProperties(ArrayPrototype,{some:function(callbackfn){var T,object=ES.ToObject(this),self=splitString&&isString(this)?strSplit(this,""):object,length=ES.ToUint32(self.length);if(arguments.length>1&&(T=arguments[1]),!isCallable(callbackfn))throw new TypeError("Array.prototype.some callback must be a function");for(var i=0;length>i;i++)if(i in self&&("undefined"==typeof T?callbackfn(self[i],i,object):callbackfn.call(T,self[i],i,object)))return!0;return!1}},!properlyBoxesContext(ArrayPrototype.some));var reduceCoercesToObject=!1;ArrayPrototype.reduce&&(reduceCoercesToObject="object"==typeof ArrayPrototype.reduce.call("es5",function(_,__,___,list){return list})),defineProperties(ArrayPrototype,{reduce:function(callbackfn){var object=ES.ToObject(this),self=splitString&&isString(this)?strSplit(this,""):object,length=ES.ToUint32(self.length);if(!isCallable(callbackfn))throw new TypeError("Array.prototype.reduce callback must be a function");if(0===length&&1===arguments.length)throw new TypeError("reduce of empty array with no initial value");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError("reduce of empty array with no initial value")}for(;length>i;i++)i in self&&(result=callbackfn(result,self[i],i,object));return result}},!reduceCoercesToObject);var reduceRightCoercesToObject=!1;ArrayPrototype.reduceRight&&(reduceRightCoercesToObject="object"==typeof ArrayPrototype.reduceRight.call("es5",function(_,__,___,list){return list})),defineProperties(ArrayPrototype,{reduceRight:function(callbackfn){var object=ES.ToObject(this),self=splitString&&isString(this)?strSplit(this,""):object,length=ES.ToUint32(self.length);if(!isCallable(callbackfn))throw new TypeError("Array.prototype.reduceRight callback must be a function");if(0===length&&1===arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(--i<0)throw new TypeError("reduceRight of empty array with no initial value")}if(0>i)return result;do i in self&&(result=callbackfn(result,self[i],i,object));while(i--);return result}},!reduceRightCoercesToObject);var hasFirefox2IndexOfBug=ArrayPrototype.indexOf&&-1!==[0,1].indexOf(1,2);defineProperties(ArrayPrototype,{indexOf:function(searchElement){var self=splitString&&isString(this)?strSplit(this,""):ES.ToObject(this),length=ES.ToUint32(self.length);if(0===length)return-1;var i=0;for(arguments.length>1&&(i=ES.ToInteger(arguments[1])),i=i>=0?i:max(0,length+i);length>i;i++)if(i in self&&self[i]===searchElement)return i;return-1}},hasFirefox2IndexOfBug);var hasFirefox2LastIndexOfBug=ArrayPrototype.lastIndexOf&&-1!==[0,1].lastIndexOf(0,-3);defineProperties(ArrayPrototype,{lastIndexOf:function(searchElement){var self=splitString&&isString(this)?strSplit(this,""):ES.ToObject(this),length=ES.ToUint32(self.length);if(0===length)return-1;var i=length-1;for(arguments.length>1&&(i=min(i,ES.ToInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&searchElement===self[i])return i;return-1}},hasFirefox2LastIndexOfBug);var spliceNoopReturnsEmptyArray=function(){var a=[1,2],result=a.splice();return 2===a.length&&isArray(result)&&0===result.length}();defineProperties(ArrayPrototype,{splice:function(start,deleteCount){return 0===arguments.length?[]:array_splice.apply(this,arguments)}},!spliceNoopReturnsEmptyArray);var spliceWorksWithEmptyObject=function(){var obj={};return ArrayPrototype.splice.call(obj,0,0,1),1===obj.length}();defineProperties(ArrayPrototype,{splice:function(start,deleteCount){if(0===arguments.length)return[];var args=arguments;return this.length=max(ES.ToInteger(this.length),0),arguments.length>0&&"number"!=typeof deleteCount&&(args=array_slice.call(arguments),args.length<2?push(args,this.length-start):args[1]=ES.ToInteger(deleteCount)),array_splice.apply(this,args)}},!spliceWorksWithEmptyObject);var spliceWorksWithLargeSparseArrays=function(){var arr=new $Array(1e5);return arr[8]="x",arr.splice(1,1),7===arr.indexOf("x")}(),spliceWorksWithSmallSparseArrays=function(){var n=256,arr=[];return arr[n]="a",arr.splice(n+1,0,"b"),"a"===arr[n]}();defineProperties(ArrayPrototype,{splice:function(start,deleteCount){for(var from,O=ES.ToObject(this),A=[],len=ES.ToUint32(O.length),relativeStart=ES.ToInteger(start),actualStart=0>relativeStart?max(len+relativeStart,0):min(relativeStart,len),actualDeleteCount=min(max(ES.ToInteger(deleteCount),0),len-actualStart),k=0;actualDeleteCount>k;)from=$String(actualStart+k),owns(O,from)&&(A[k]=O[from]),k+=1;var to,items=array_slice.call(arguments,2),itemCount=items.length;if(actualDeleteCount>itemCount){for(k=actualStart;len-actualDeleteCount>k;)from=$String(k+actualDeleteCount),to=$String(k+itemCount),owns(O,from)?O[to]=O[from]:delete O[to],k+=1;for(k=len;k>len-actualDeleteCount+itemCount;)delete O[k-1],k-=1}else if(itemCount>actualDeleteCount)for(k=len-actualDeleteCount;k>actualStart;)from=$String(k+actualDeleteCount-1),to=$String(k+itemCount-1),owns(O,from)?O[to]=O[from]:delete O[to],k-=1;k=actualStart;for(var i=0;i<items.length;++i)O[k]=items[i],k+=1;return O.length=len-actualDeleteCount+itemCount,A}},!spliceWorksWithLargeSparseArrays||!spliceWorksWithSmallSparseArrays);var hasJoinUndefinedBug="1,2"!==[1,2].join(void 0),originalJoin=ArrayPrototype.join;defineProperties(ArrayPrototype,{join:function(separator){return originalJoin.call(this,"undefined"==typeof separator?",":separator)}},hasJoinUndefinedBug);var pushShim=function(item){for(var O=ES.ToObject(this),n=ES.ToUint32(O.length),i=0;i<arguments.length;)O[n+i]=arguments[i],i+=1;return O.length=n+i,n+i},pushIsNotGeneric=function(){var obj={},result=Array.prototype.push.call(obj,void 0);return 1!==result||1!==obj.length||"undefined"!=typeof obj[0]||!owns(obj,0)}();defineProperties(ArrayPrototype,{push:function(item){return isArray(this)?array_push.apply(this,arguments):pushShim.apply(this,arguments)}},pushIsNotGeneric);var pushUndefinedIsWeird=function(){var arr=[],result=arr.push(void 0);return 1!==result||1!==arr.length||"undefined"!=typeof arr[0]||!owns(arr,0)}();defineProperties(ArrayPrototype,{push:pushShim},pushUndefinedIsWeird);var hasDontEnumBug=!{toString:null}.propertyIsEnumerable("toString"),hasProtoEnumBug=function(){}.propertyIsEnumerable("prototype"),hasStringEnumBug=!owns("x","0"),equalsConstructorPrototype=function(o){var ctor=o.constructor;return ctor&&ctor.prototype===o},blacklistedKeys={$window:!0,$console:!0,$parent:!0,$self:!0,$frame:!0,$frames:!0,$frameElement:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0},hasAutomationEqualityBug=function(){if("undefined"==typeof window)return!1;for(var k in window)try{!blacklistedKeys["$"+k]&&owns(window,k)&&null!==window[k]&&"object"==typeof window[k]&&equalsConstructorPrototype(window[k])}catch(e){return!0}return!1}(),equalsConstructorPrototypeIfNotBuggy=function(object){if("undefined"==typeof window||!hasAutomationEqualityBug)return equalsConstructorPrototype(object);try{return equalsConstructorPrototype(object)}catch(e){return!1}},dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length,isStandardArguments=function(value){return"[object Arguments]"===toStr(value)},isLegacyArguments=function(value){return null!==value&&"object"==typeof value&&"number"==typeof value.length&&value.length>=0&&!isArray(value)&&isCallable(value.callee)},isArguments=isStandardArguments(arguments)?isStandardArguments:isLegacyArguments;defineProperties($Object,{keys:function(object){var isFn=isCallable(object),isArgs=isArguments(object),isObject=null!==object&&"object"==typeof object,isStr=isObject&&isString(object);if(!isObject&&!isFn&&!isArgs)throw new TypeError("Object.keys called on a non-object");var theKeys=[],skipProto=hasProtoEnumBug&&isFn;if(isStr&&hasStringEnumBug||isArgs)for(var i=0;i<object.length;++i)push(theKeys,$String(i));if(!isArgs)for(var name in object)skipProto&&"prototype"===name||!owns(object,name)||push(theKeys,$String(name));if(hasDontEnumBug)for(var skipConstructor=equalsConstructorPrototypeIfNotBuggy(object),j=0;dontEnumsLength>j;j++){var dontEnum=dontEnums[j];skipConstructor&&"constructor"===dontEnum||!owns(object,dontEnum)||push(theKeys,dontEnum)}return theKeys}});var keysWorksWithArguments=$Object.keys&&function(){return 2===$Object.keys(arguments).length}(1,2),keysHasArgumentsLengthBug=$Object.keys&&function(){var argKeys=$Object.keys(arguments);return 1!==arguments.length||1!==argKeys.length||1!==argKeys[0]}(1),originalKeys=$Object.keys;defineProperties($Object,{keys:function(object){return originalKeys(isArguments(object)?array_slice.call(object):object)}},!keysWorksWithArguments||keysHasArgumentsLengthBug);var negativeDate=-621987552e5,negativeYearString="-000001",hasNegativeDateBug=Date.prototype.toISOString&&-1===new Date(negativeDate).toISOString().indexOf(negativeYearString),hasSafari51DateBug=Date.prototype.toISOString&&"1969-12-31T23:59:59.999Z"!==new Date(-1).toISOString();defineProperties(Date.prototype,{toISOString:function(){var result,length,value,year,month;if(!isFinite(this))throw new RangeError("Date.prototype.toISOString called on non-finite value.");for(year=this.getUTCFullYear(),month=this.getUTCMonth(),year+=Math.floor(month/12),month=(month%12+12)%12,result=[month+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()],year=(0>year?"-":year>9999?"+":"")+strSlice("00000"+Math.abs(year),year>=0&&9999>=year?-4:-6),length=result.length;length--;)value=result[length],10>value&&(result[length]="0"+value);return year+"-"+array_slice.call(result,0,2).join("-")+"T"+array_slice.call(result,2).join(":")+"."+strSlice("000"+this.getUTCMilliseconds(),-3)+"Z"}},hasNegativeDateBug||hasSafari51DateBug);var dateToJSONIsSupported=function(){try{return Date.prototype.toJSON&&null===new Date(NaN).toJSON()&&-1!==new Date(negativeDate).toJSON().indexOf(negativeYearString)&&Date.prototype.toJSON.call({toISOString:function(){return!0}})}catch(e){return!1}}();dateToJSONIsSupported||(Date.prototype.toJSON=function(key){var O=$Object(this),tv=ES.ToPrimitive(O);if("number"==typeof tv&&!isFinite(tv))return null;var toISO=O.toISOString;if(!isCallable(toISO))throw new TypeError("toISOString property is not callable");return toISO.call(O)});var supportsExtendedYears=1e15===Date.parse("+033658-09-27T01:46:40.000Z"),acceptsInvalidDates=!isNaN(Date.parse("2012-04-04T24:00:00.500Z"))||!isNaN(Date.parse("2012-11-31T23:59:59.000Z"))||!isNaN(Date.parse("2012-12-31T23:59:60.000Z")),doesNotParseY2KNewYear=isNaN(Date.parse("2000-01-01T00:00:00.000Z"));if(doesNotParseY2KNewYear||acceptsInvalidDates||!supportsExtendedYears){var maxSafeUnsigned32Bit=Math.pow(2,31)-1,hasSafariSignedIntBug=(Math.floor(maxSafeUnsigned32Bit/1e3),isActualNaN(new Date(1970,0,1,0,0,0,maxSafeUnsigned32Bit+1).getTime()));Date=function(NativeDate){var DateShim=function(Y,M,D,h,m,s,ms){var date,length=arguments.length;if(this instanceof NativeDate){var seconds=s,millis=ms;if(hasSafariSignedIntBug&&length>=7&&ms>maxSafeUnsigned32Bit){var msToShift=Math.floor(ms/maxSafeUnsigned32Bit)*maxSafeUnsigned32Bit,sToShift=Math.floor(msToShift/1e3);seconds+=sToShift,millis-=1e3*sToShift}date=1===length&&$String(Y)===Y?new NativeDate(DateShim.parse(Y)):length>=7?new NativeDate(Y,M,D,h,m,seconds,millis):length>=6?new NativeDate(Y,M,D,h,m,seconds):length>=5?new NativeDate(Y,M,D,h,m):length>=4?new NativeDate(Y,M,D,h):length>=3?new NativeDate(Y,M,D):length>=2?new NativeDate(Y,M):length>=1?new NativeDate(Y):new NativeDate}else date=NativeDate.apply(this,arguments);return isPrimitive(date)||defineProperties(date,{constructor:DateShim},!0),date},isoDateExpression=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),months=[0,31,59,90,120,151,181,212,243,273,304,334,365],dayFromMonth=function(year,month){var t=month>1?1:0;return months[month]+Math.floor((year-1969+t)/4)-Math.floor((year-1901+t)/100)+Math.floor((year-1601+t)/400)+365*(year-1970)},toUTC=function(t){var s=0,ms=t;if(hasSafariSignedIntBug&&ms>maxSafeUnsigned32Bit){var msToShift=Math.floor(ms/maxSafeUnsigned32Bit)*maxSafeUnsigned32Bit,sToShift=Math.floor(msToShift/1e3);s+=sToShift,ms-=1e3*sToShift}return $Number(new NativeDate(1970,0,1,0,0,s,ms));
};for(var key in NativeDate)owns(NativeDate,key)&&(DateShim[key]=NativeDate[key]);defineProperties(DateShim,{now:NativeDate.now,UTC:NativeDate.UTC},!0),DateShim.prototype=NativeDate.prototype,defineProperties(DateShim.prototype,{constructor:DateShim},!0);var parseShim=function(string){var match=isoDateExpression.exec(string);if(match){var result,year=$Number(match[1]),month=$Number(match[2]||1)-1,day=$Number(match[3]||1)-1,hour=$Number(match[4]||0),minute=$Number(match[5]||0),second=$Number(match[6]||0),millisecond=Math.floor(1e3*$Number(match[7]||0)),isLocalTime=Boolean(match[4]&&!match[8]),signOffset="-"===match[9]?1:-1,hourOffset=$Number(match[10]||0),minuteOffset=$Number(match[11]||0),hasMinutesOrSecondsOrMilliseconds=minute>0||second>0||millisecond>0;return(hasMinutesOrSecondsOrMilliseconds?24:25)>hour&&60>minute&&60>second&&1e3>millisecond&&month>-1&&12>month&&24>hourOffset&&60>minuteOffset&&day>-1&&day<dayFromMonth(year,month+1)-dayFromMonth(year,month)&&(result=60*(24*(dayFromMonth(year,month)+day)+hour+hourOffset*signOffset),result=1e3*(60*(result+minute+minuteOffset*signOffset)+second)+millisecond,isLocalTime&&(result=toUTC(result)),result>=-864e13&&864e13>=result)?result:NaN}return NativeDate.parse.apply(this,arguments)};return defineProperties(DateShim,{parse:parseShim}),DateShim}(Date)}Date.now||(Date.now=function(){return(new Date).getTime()});var hasToFixedBugs=NumberPrototype.toFixed&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==0xde0b6b3a7640080.toFixed(0)),toFixedHelpers={base:1e7,size:6,data:[0,0,0,0,0,0],multiply:function(n,c){for(var i=-1,c2=c;++i<toFixedHelpers.size;)c2+=n*toFixedHelpers.data[i],toFixedHelpers.data[i]=c2%toFixedHelpers.base,c2=Math.floor(c2/toFixedHelpers.base)},divide:function(n){for(var i=toFixedHelpers.size,c=0;--i>=0;)c+=toFixedHelpers.data[i],toFixedHelpers.data[i]=Math.floor(c/n),c=c%n*toFixedHelpers.base},numToString:function(){for(var i=toFixedHelpers.size,s="";--i>=0;)if(""!==s||0===i||0!==toFixedHelpers.data[i]){var t=$String(toFixedHelpers.data[i]);""===s?s=t:s+=strSlice("0000000",0,7-t.length)+t}return s},pow:function pow(x,n,acc){return 0===n?acc:n%2===1?pow(x,n-1,acc*x):pow(x*x,n/2,acc)},log:function(x){for(var n=0,x2=x;x2>=4096;)n+=12,x2/=4096;for(;x2>=2;)n+=1,x2/=2;return n}},toFixedShim=function(fractionDigits){var f,x,s,m,e,z,j,k;if(f=$Number(fractionDigits),f=isActualNaN(f)?0:Math.floor(f),0>f||f>20)throw new RangeError("Number.toFixed called with invalid number of decimals");if(x=$Number(this),isActualNaN(x))return"NaN";if(-1e21>=x||x>=1e21)return $String(x);if(s="",0>x&&(s="-",x=-x),m="0",x>1e-21)if(e=toFixedHelpers.log(x*toFixedHelpers.pow(2,69,1))-69,z=0>e?x*toFixedHelpers.pow(2,-e,1):x/toFixedHelpers.pow(2,e,1),z*=4503599627370496,e=52-e,e>0){for(toFixedHelpers.multiply(0,z),j=f;j>=7;)toFixedHelpers.multiply(1e7,0),j-=7;for(toFixedHelpers.multiply(toFixedHelpers.pow(10,j,1),0),j=e-1;j>=23;)toFixedHelpers.divide(1<<23),j-=23;toFixedHelpers.divide(1<<j),toFixedHelpers.multiply(1,1),toFixedHelpers.divide(2),m=toFixedHelpers.numToString()}else toFixedHelpers.multiply(0,z),toFixedHelpers.multiply(1<<-e,0),m=toFixedHelpers.numToString()+strSlice("0.00000000000000000000",2,2+f);return f>0?(k=m.length,m=f>=k?s+strSlice("0.0000000000000000000",0,f-k+2)+m:s+strSlice(m,0,k-f)+"."+strSlice(m,k-f)):m=s+m,m};defineProperties(NumberPrototype,{toFixed:toFixedShim},hasToFixedBugs);var hasToPrecisionUndefinedBug=function(){try{return"1"===1..toPrecision(void 0)}catch(e){return!0}}(),originalToPrecision=NumberPrototype.toPrecision;defineProperties(NumberPrototype,{toPrecision:function(precision){return"undefined"==typeof precision?originalToPrecision.call(this):originalToPrecision.call(this,precision)}},hasToPrecisionUndefinedBug),2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?!function(){var compliantExecNpcg="undefined"==typeof/()??/.exec("")[1],maxSafe32BitInt=Math.pow(2,32)-1;StringPrototype.split=function(separator,limit){var string=this;if("undefined"==typeof separator&&0===limit)return[];if(!isRegex(separator))return strSplit(this,separator,limit);var separator2,match,lastIndex,lastLength,output=[],flags=(separator.ignoreCase?"i":"")+(separator.multiline?"m":"")+(separator.unicode?"u":"")+(separator.sticky?"y":""),lastLastIndex=0,separatorCopy=new RegExp(separator.source,flags+"g");string+="",compliantExecNpcg||(separator2=new RegExp("^"+separatorCopy.source+"$(?!\\s)",flags));var splitLimit="undefined"==typeof limit?maxSafe32BitInt:ES.ToUint32(limit);for(match=separatorCopy.exec(string);match&&(lastIndex=match.index+match[0].length,!(lastIndex>lastLastIndex&&(push(output,strSlice(string,lastLastIndex,match.index)),!compliantExecNpcg&&match.length>1&&match[0].replace(separator2,function(){for(var i=1;i<arguments.length-2;i++)"undefined"==typeof arguments[i]&&(match[i]=void 0)}),match.length>1&&match.index<string.length&&array_push.apply(output,array_slice.call(match,1)),lastLength=match[0].length,lastLastIndex=lastIndex,output.length>=splitLimit)));)separatorCopy.lastIndex===match.index&&separatorCopy.lastIndex++,match=separatorCopy.exec(string);return lastLastIndex===string.length?(lastLength||!separatorCopy.test(""))&&push(output,""):push(output,strSlice(string,lastLastIndex)),output.length>splitLimit?strSlice(output,0,splitLimit):output}}():"0".split(void 0,0).length&&(StringPrototype.split=function(separator,limit){return"undefined"==typeof separator&&0===limit?[]:strSplit(this,separator,limit)});var str_replace=StringPrototype.replace,replaceReportsGroupsCorrectly=function(){var groups=[];return"x".replace(/x(.)?/g,function(match,group){push(groups,group)}),1===groups.length&&"undefined"==typeof groups[0]}();replaceReportsGroupsCorrectly||(StringPrototype.replace=function(searchValue,replaceValue){var isFn=isCallable(replaceValue),hasCapturingGroups=isRegex(searchValue)&&/\)[*?]/.test(searchValue.source);if(isFn&&hasCapturingGroups){var wrappedReplaceValue=function(match){var length=arguments.length,originalLastIndex=searchValue.lastIndex;searchValue.lastIndex=0;var args=searchValue.exec(match)||[];return searchValue.lastIndex=originalLastIndex,push(args,arguments[length-2],arguments[length-1]),replaceValue.apply(this,args)};return str_replace.call(this,searchValue,wrappedReplaceValue)}return str_replace.call(this,searchValue,replaceValue)});var string_substr=StringPrototype.substr,hasNegativeSubstrBug="".substr&&"b"!=="0b".substr(-1);defineProperties(StringPrototype,{substr:function(start,length){var normalizedStart=start;return 0>start&&(normalizedStart=max(this.length+start,0)),string_substr.call(this,normalizedStart,length)}},hasNegativeSubstrBug);var ws="	\n\f\r   ᠎             　\u2028\u2029\ufeff",zeroWidth="​",wsRegexChars="["+ws+"]",trimBeginRegexp=new RegExp("^"+wsRegexChars+wsRegexChars+"*"),trimEndRegexp=new RegExp(wsRegexChars+wsRegexChars+"*$"),hasTrimWhitespaceBug=StringPrototype.trim&&(ws.trim()||!zeroWidth.trim());defineProperties(StringPrototype,{trim:function(){if("undefined"==typeof this||null===this)throw new TypeError("can't convert "+this+" to object");return $String(this).replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}},hasTrimWhitespaceBug);var hasLastIndexBug=StringPrototype.lastIndexOf&&-1!=="abcあい".lastIndexOf("あい",2);defineProperties(StringPrototype,{lastIndexOf:function(searchString){if("undefined"==typeof this||null===this)throw new TypeError("can't convert "+this+" to object");for(var S=$String(this),searchStr=$String(searchString),numPos=arguments.length>1?$Number(arguments[1]):NaN,pos=isActualNaN(numPos)?1/0:ES.ToInteger(numPos),start=min(max(pos,0),S.length),searchLen=searchStr.length,k=start+searchLen;k>0;){k=max(0,k-searchLen);var index=strIndexOf(strSlice(S,k,start+searchLen),searchStr);if(-1!==index)return k+index}return-1}},hasLastIndexBug);var originalLastIndexOf=StringPrototype.lastIndexOf;if(defineProperties(StringPrototype,{lastIndexOf:function(searchString){return originalLastIndexOf.apply(this,arguments)}},1!==StringPrototype.lastIndexOf.length),(8!==parseInt(ws+"08")||22!==parseInt(ws+"0x16"))&&(parseInt=function(origParseInt){var hexRegex=/^[\-+]?0[xX]/;return function(str,radix){var string=$String(str).trim(),defaultedRadix=$Number(radix)||(hexRegex.test(string)?16:10);return origParseInt(string,defaultedRadix)}}(parseInt)),"RangeError: test"!==String(new RangeError("test"))){var errorToStringShim=(Error.prototype.toString,function(){if("undefined"==typeof this||null===this)throw new TypeError("can't convert "+this+" to object");var name=this.name;"undefined"==typeof name?name="Error":"string"!=typeof name&&(name=$String(name));var msg=this.message;return"undefined"==typeof msg?msg="":"string"!=typeof msg&&(msg=$String(msg)),name?msg?name+": "+msg:name:msg});Error.prototype.toString=errorToStringShim}})},{}],17:[function(require,module,exports){function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(arg){return"function"==typeof arg}function isNumber(arg){return"number"==typeof arg}function isObject(arg){return"object"==typeof arg&&null!==arg}function isUndefined(arg){return void 0===arg}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||0>n||isNaN(n))throw TypeError("n must be a positive number");return this._maxListeners=n,this},EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(this._events||(this._events={}),"error"===type&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(er=arguments[1],er instanceof Error)throw er;throw TypeError('Uncaught, unspecified "error" event.')}if(handler=this._events[type],isUndefined(handler))return!1;if(isFunction(handler))switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:for(len=arguments.length,args=new Array(len-1),i=1;len>i;i++)args[i-1]=arguments[i];handler.apply(this,args)}else if(isObject(handler)){for(len=arguments.length,args=new Array(len-1),i=1;len>i;i++)args[i-1]=arguments[i];for(listeners=handler.slice(),len=listeners.length,i=0;len>i;i++)listeners[i].apply(this,args)}return!0},EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",type,isFunction(listener.listener)?listener.listener:listener),this._events[type]?isObject(this._events[type])?this._events[type].push(listener):this._events[type]=[this._events[type],listener]:this._events[type]=listener,isObject(this._events[type])&&!this._events[type].warned){var m;m=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,m&&m>0&&this._events[type].length>m&&(this._events[type].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[type].length),"function"==typeof console.trace&&console.trace())}return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(type,listener){function g(){this.removeListener(type,g),fired||(fired=!0,listener.apply(this,arguments))}if(!isFunction(listener))throw TypeError("listener must be a function");var fired=!1;return g.listener=listener,this.on(type,g),this},EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;if(list=this._events[type],length=list.length,position=-1,list===listener||isFunction(list.listener)&&list.listener===listener)delete this._events[type],this._events.removeListener&&this.emit("removeListener",type,listener);else if(isObject(list)){for(i=length;i-->0;)if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}if(0>position)return this;1===list.length?(list.length=0,delete this._events[type]):list.splice(position,1),this._events.removeListener&&this.emit("removeListener",type,listener)}return this},EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[type]&&delete this._events[type],this;if(0===arguments.length){for(key in this._events)"removeListener"!==key&&this.removeAllListeners(key);return this.removeAllListeners("removeListener"),this._events={},this}if(listeners=this._events[type],isFunction(listeners))this.removeListener(type,listeners);else for(;listeners.length;)this.removeListener(type,listeners[listeners.length-1]);return delete this._events[type],this},EventEmitter.prototype.listeners=function(type){var ret;return ret=this._events&&this._events[type]?isFunction(this._events[type])?[this._events[type]]:this._events[type].slice():[]},EventEmitter.listenerCount=function(emitter,type){var ret;return ret=emitter._events&&emitter._events[type]?isFunction(emitter._events[type])?1:emitter._events[type].length:0}},{}],18:[function(require,module,exports){var hasOwn=Object.prototype.hasOwnProperty,toString=Object.prototype.toString;module.exports=function(obj,fn,ctx){if("[object Function]"!==toString.call(fn))throw new TypeError("iterator must be a function");var l=obj.length;if(l===+l)for(var i=0;l>i;i++)fn.call(ctx,obj[i],i,obj);else for(var k in obj)hasOwn.call(obj,k)&&fn.call(ctx,obj[k],k,obj)}},{}],19:[function(require,module,exports){var ERROR_MESSAGE="Function.prototype.bind called on incompatible ",slice=Array.prototype.slice,toStr=Object.prototype.toString,funcType="[object Function]";module.exports=function(that){var target=this;if("function"!=typeof target||toStr.call(target)!==funcType)throw new TypeError(ERROR_MESSAGE+target);for(var args=slice.call(arguments,1),binder=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))},boundLength=Math.max(0,target.length-args.length),boundArgs=[],i=0;boundLength>i;i++)boundArgs.push("$"+i);var bound=Function("binder","return function ("+boundArgs.join(",")+"){ return binder.apply(this,arguments); }")(binder);if(target.prototype){var Empty=function(){};Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null}return bound}},{}],20:[function(require,module,exports){"function"==typeof Object.create?module.exports=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}},{}],21:[function(require,module,exports){"use strict";var fnToStr=Function.prototype.toString,tryFunctionObject=function(value){try{return fnToStr.call(value),!0}catch(e){return!1}},toStr=Object.prototype.toString,fnClass="[object Function]",genClass="[object GeneratorFunction]",constructorRegex=/\s*class /,hasToStringTag="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;module.exports=function(value){if(!value)return!1;if("function"!=typeof value&&"object"!=typeof value)return!1;if(constructorRegex.test(value))return!1;if(hasToStringTag)return tryFunctionObject(value);var strClass=toStr.call(value);return strClass===fnClass||strClass===genClass}},{}],22:[function(require,module,exports){"use strict";var getDay=Date.prototype.getDay,tryDateObject=function(value){try{return getDay.call(value),!0}catch(e){return!1}},toStr=Object.prototype.toString,dateClass="[object Date]",hasToStringTag="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;module.exports=function(value){return"object"!=typeof value||null===value?!1:hasToStringTag?tryDateObject(value):toStr.call(value)===dateClass}},{}],23:[function(require,module,exports){"use strict";var regexExec=RegExp.prototype.exec,tryRegexExec=function(value){try{return regexExec.call(value),!0}catch(e){return!1}},toStr=Object.prototype.toString,regexClass="[object RegExp]",hasToStringTag="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;module.exports=function(value){return"object"!=typeof value?!1:hasToStringTag?tryRegexExec(value):toStr.call(value)===regexClass}},{}],24:[function(require,module,exports){"use strict";var toStr=Object.prototype.toString,hasSymbols="function"==typeof Symbol&&"symbol"==typeof Symbol();if(hasSymbols){var symToStr=Symbol.prototype.toString,symStringRegex=/^Symbol\(.*\)$/,isSymbolObject=function(value){return"symbol"!=typeof value.valueOf()?!1:symStringRegex.test(symToStr.call(value))};module.exports=function(value){if("symbol"==typeof value)return!0;if("[object Symbol]"!==toStr.call(value))return!1;try{return isSymbolObject(value)}catch(e){return!1}}}else module.exports=function(value){return!1}},{}],25:[function(require,module,exports){function addListener(self,l){self._listeningTo||(self._listeningTo=[]),self._listeningTo.push(l)}function createListener(obj,events,cb){return{obj:obj,events:events,cb:cb}}var contains=require("object-contains");module.exports={listenTo:function(obj,events,cb){return addListener(this,createListener(obj,events,cb)),obj.on(events,cb),this},listenOnce:function(obj,events,cb){return addListener(this,createListener(obj,events,cb)),obj.once(events,cb),this},stopListening:function(obj,events,cb){var removal=[];return this._listeningTo=(this._listeningTo||[]).filter(function(listener){return contains(listener,createListener(obj,events,cb))?void removal.push(listener):!0}),removal.forEach(function(listener){listener.obj.off(listener.events,listener.cb)}),this}}},{"object-contains":28}],26:[function(require,module,exports){function baseToString(value){return null==value?"":value+""}module.exports=baseToString},{}],27:[function(require,module,exports){function escapeHtmlChar(chr){return htmlEscapes[chr]}function escape(string){return string=baseToString(string),string&&reHasUnescapedHtml.test(string)?string.replace(reUnescapedHtml,escapeHtmlChar):string}var baseToString=require("lodash._basetostring"),reUnescapedHtml=/[&<>"'`]/g,reHasUnescapedHtml=RegExp(reUnescapedHtml.source),htmlEscapes={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"};module.exports=escape},{"lodash._basetostring":26}],28:[function(require,module,exports){module.exports=function(chk,match){for(var key in match)if(void 0!==match[key]&&chk[key]!==match[key])return!1;return!0}},{}],29:[function(require,module,exports){"use strict";var has=Object.prototype.hasOwnProperty,toStr=Object.prototype.toString,slice=Array.prototype.slice,isArgs=require("./isArguments"),hasDontEnumBug=!{toString:null}.propertyIsEnumerable("toString"),hasProtoEnumBug=function(){}.propertyIsEnumerable("prototype"),dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],equalsConstructorPrototype=function(o){var ctor=o.constructor;return ctor&&ctor.prototype===o},blacklistedKeys={$console:!0,$frame:!0,$frameElement:!0,$frames:!0,$parent:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},hasAutomationEqualityBug=function(){if("undefined"==typeof window)return!1;for(var k in window)try{if(!blacklistedKeys["$"+k]&&has.call(window,k)&&null!==window[k]&&"object"==typeof window[k])try{equalsConstructorPrototype(window[k])}catch(e){return!0}}catch(e){return!0}return!1}(),equalsConstructorPrototypeIfNotBuggy=function(o){if("undefined"==typeof window||!hasAutomationEqualityBug)return equalsConstructorPrototype(o);try{return equalsConstructorPrototype(o)}catch(e){return!1}},keysShim=function(object){var isObject=null!==object&&"object"==typeof object,isFunction="[object Function]"===toStr.call(object),isArguments=isArgs(object),isString=isObject&&"[object String]"===toStr.call(object),theKeys=[];if(!isObject&&!isFunction&&!isArguments)throw new TypeError("Object.keys called on a non-object");var skipProto=hasProtoEnumBug&&isFunction;if(isString&&object.length>0&&!has.call(object,0))for(var i=0;i<object.length;++i)theKeys.push(String(i));if(isArguments&&object.length>0)for(var j=0;j<object.length;++j)theKeys.push(String(j));else for(var name in object)skipProto&&"prototype"===name||!has.call(object,name)||theKeys.push(String(name));if(hasDontEnumBug)for(var skipConstructor=equalsConstructorPrototypeIfNotBuggy(object),k=0;k<dontEnums.length;++k)skipConstructor&&"constructor"===dontEnums[k]||!has.call(object,dontEnums[k])||theKeys.push(dontEnums[k]);return theKeys};keysShim.shim=function(){if(Object.keys){var keysWorksWithArguments=function(){return 2===(Object.keys(arguments)||"").length}(1,2);if(!keysWorksWithArguments){var originalKeys=Object.keys;Object.keys=function(object){return originalKeys(isArgs(object)?slice.call(object):object)}}}else Object.keys=keysShim;return Object.keys||keysShim},module.exports=keysShim},{"./isArguments":30}],30:[function(require,module,exports){"use strict";var toStr=Object.prototype.toString;module.exports=function(value){var str=toStr.call(value),isArgs="[object Arguments]"===str;return isArgs||(isArgs="[object Array]"!==str&&null!==value&&"object"==typeof value&&"number"==typeof value.length&&value.length>=0&&"[object Function]"===toStr.call(value.callee)),isArgs}},{}],31:[function(require,module,exports){"use strict";var keys=require("object-keys");module.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var obj={},sym=Symbol("test");if("string"==typeof sym)return!1;var symVal=42;obj[sym]=symVal;for(sym in obj)return!1;if(0!==keys(obj).length)return!1;if("function"==typeof Object.keys&&0!==Object.keys(obj).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(obj).length)return!1;var syms=Object.getOwnPropertySymbols(obj);if(1!==syms.length||syms[0]!==sym)return!1;if(!Object.prototype.propertyIsEnumerable.call(obj,sym))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var descriptor=Object.getOwnPropertyDescriptor(obj,sym);if(descriptor.value!==symVal||descriptor.enumerable!==!0)return!1}return!0}},{"object-keys":29}],32:[function(require,module,exports){"use strict";var keys=require("object-keys"),bind=require("function-bind"),canBeObject=function(obj){return"undefined"!=typeof obj&&null!==obj},hasSymbols=require("./hasSymbols")(),toObject=Object,push=bind.call(Function.call,Array.prototype.push),propIsEnumerable=bind.call(Function.call,Object.prototype.propertyIsEnumerable);module.exports=function(target,source1){if(!canBeObject(target))throw new TypeError("target must be an object");var s,source,i,props,syms,value,key,objTarget=toObject(target);for(s=1;s<arguments.length;++s){if(source=toObject(arguments[s]),props=keys(source),hasSymbols&&Object.getOwnPropertySymbols)for(syms=Object.getOwnPropertySymbols(source),i=0;i<syms.length;++i)key=syms[i],propIsEnumerable(source,key)&&push(props,key);for(i=0;i<props.length;++i)key=props[i],value=source[key],propIsEnumerable(source,key)&&(objTarget[key]=value)}return objTarget}},{"./hasSymbols":31,"function-bind":19,"object-keys":29}],33:[function(require,module,exports){"use strict";var defineProperties=require("define-properties"),implementation=require("./implementation"),getPolyfill=require("./polyfill"),shim=require("./shim");defineProperties(implementation,{implementation:implementation,getPolyfill:getPolyfill,shim:shim}),module.exports=implementation},{"./implementation":32,"./polyfill":34,"./shim":35,"define-properties":5}],34:[function(require,module,exports){"use strict";var implementation=require("./implementation"),lacksProperEnumerationOrder=function(){if(!Object.assign)return!1;for(var str="abcdefghijklmnopqrst",letters=str.split(""),map={},i=0;i<letters.length;++i)map[letters[i]]=letters[i];var obj=Object.assign({},map),actual="";for(var k in obj)actual+=k;return str!==actual},assignHasPendingExceptions=function(){if(!Object.assign||!Object.preventExtensions)return!1;var thrower=Object.preventExtensions({1:2});try{Object.assign(thrower,"xy")}catch(e){return"y"===thrower[1]}};module.exports=function(){return Object.assign?lacksProperEnumerationOrder()?implementation:assignHasPendingExceptions()?implementation:Object.assign:implementation}},{"./implementation":32}],35:[function(require,module,exports){"use strict";var define=require("define-properties"),getPolyfill=require("./polyfill");module.exports=function(){var polyfill=getPolyfill();return define(Object,{assign:polyfill},{assign:function(){return Object.assign!==polyfill}}),polyfill}},{"./polyfill":34,"define-properties":5}],36:[function(require,module,exports){function cleanUpNextTick(){draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue()}function drainQueue(){if(!draining){var timeout=setTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,clearTimeout(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}var currentQueue,process=module.exports={},queue=[],draining=!1,queueIndex=-1;process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||setTimeout(drainQueue,0)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},{}],37:[function(require,module,exports){module.exports=function(arg){return arg&&"object"==typeof arg&&"function"==typeof arg.copy&&"function"==typeof arg.fill&&"function"==typeof arg.readUInt8}},{}],38:[function(require,module,exports){(function(process,global){function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(ctx.depth=arguments[2]),arguments.length>=4&&(ctx.colors=arguments[3]),isBoolean(opts)?ctx.showHidden=opts:opts&&exports._extend(ctx,opts),isUndefined(ctx.showHidden)&&(ctx.showHidden=!1),isUndefined(ctx.depth)&&(ctx.depth=2),isUndefined(ctx.colors)&&(ctx.colors=!1),isUndefined(ctx.customInspect)&&(ctx.customInspect=!0),ctx.colors&&(ctx.stylize=stylizeWithColor),formatValue(ctx,obj,ctx.depth)}function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];return style?"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m":str}function stylizeNoColor(str,styleType){return str}function arrayToHash(array){var hash={};return array.forEach(function(val,idx){hash[val]=!0}),hash}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&(!value.constructor||value.constructor.prototype!==value)){var ret=value.inspect(recurseTimes,ctx);return isString(ret)||(ret=formatValue(ctx,ret,recurseTimes)),ret}var primitive=formatPrimitive(ctx,value);if(primitive)return primitive;var keys=Object.keys(value),visibleKeys=arrayToHash(keys);if(ctx.showHidden&&(keys=Object.getOwnPropertyNames(value)),isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0))return formatError(value);if(0===keys.length){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value))return ctx.stylize(RegExp.prototype.toString.call(value),"regexp");if(isDate(value))return ctx.stylize(Date.prototype.toString.call(value),"date");if(isError(value))return formatError(value)}var base="",array=!1,braces=["{","}"];if(isArray(value)&&(array=!0,braces=["[","]"]),isFunction(value)){var n=value.name?": "+value.name:"";base=" [Function"+n+"]"}if(isRegExp(value)&&(base=" "+RegExp.prototype.toString.call(value)),isDate(value)&&(base=" "+Date.prototype.toUTCString.call(value)),isError(value)&&(base=" "+formatError(value)),0===keys.length&&(!array||0==value.length))return braces[0]+base+braces[1];if(0>recurseTimes)return isRegExp(value)?ctx.stylize(RegExp.prototype.toString.call(value),"regexp"):ctx.stylize("[Object]","special");ctx.seen.push(value);var output;return output=array?formatArray(ctx,value,recurseTimes,visibleKeys,keys):keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)}),ctx.seen.pop(),reduceToSingleString(output,base,braces)}function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}return isNumber(value)?ctx.stylize(""+value,"number"):isBoolean(value)?ctx.stylize(""+value,"boolean"):isNull(value)?ctx.stylize("null","null"):void 0}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatArray(ctx,value,recurseTimes,visibleKeys,keys){for(var output=[],i=0,l=value.length;l>i;++i)hasOwnProperty(value,String(i))?output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),!0)):output.push("");return keys.forEach(function(key){key.match(/^\d+$/)||output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,!0))}),output}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;if(desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]},desc.get?str=desc.set?ctx.stylize("[Getter/Setter]","special"):ctx.stylize("[Getter]","special"):desc.set&&(str=ctx.stylize("[Setter]","special")),hasOwnProperty(visibleKeys,key)||(name="["+key+"]"),str||(ctx.seen.indexOf(desc.value)<0?(str=isNull(recurseTimes)?formatValue(ctx,desc.value,null):formatValue(ctx,desc.value,recurseTimes-1),str.indexOf("\n")>-1&&(str=array?str.split("\n").map(function(line){return"  "+line}).join("\n").substr(2):"\n"+str.split("\n").map(function(line){return"   "+line}).join("\n"))):str=ctx.stylize("[Circular]","special")),isUndefined(name)){if(array&&key.match(/^\d+$/))return str;name=JSON.stringify(""+key),name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(name=name.substr(1,name.length-2),name=ctx.stylize(name,"name")):(name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),name=ctx.stylize(name,"string"))}return name+": "+str}function reduceToSingleString(output,base,braces){var numLinesEst=0,length=output.reduce(function(prev,cur){return numLinesEst++,cur.indexOf("\n")>=0&&numLinesEst++,prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1},0);return length>60?braces[0]+(""===base?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1]:braces[0]+base+" "+output.join(", ")+" "+braces[1]}function isArray(ar){return Array.isArray(ar)}function isBoolean(arg){return"boolean"==typeof arg}function isNull(arg){return null===arg}function isNullOrUndefined(arg){return null==arg}function isNumber(arg){
return"number"==typeof arg}function isString(arg){return"string"==typeof arg}function isSymbol(arg){return"symbol"==typeof arg}function isUndefined(arg){return void 0===arg}function isRegExp(re){return isObject(re)&&"[object RegExp]"===objectToString(re)}function isObject(arg){return"object"==typeof arg&&null!==arg}function isDate(d){return isObject(d)&&"[object Date]"===objectToString(d)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(arg){return"function"==typeof arg}function isPrimitive(arg){return null===arg||"boolean"==typeof arg||"number"==typeof arg||"string"==typeof arg||"symbol"==typeof arg||"undefined"==typeof arg}function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return 10>n?"0"+n.toString(10):n.toString(10)}function timestamp(){var d=new Date,time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){for(var objects=[],i=0;i<arguments.length;i++)objects.push(inspect(arguments[i]));return objects.join(" ")}for(var i=1,args=arguments,len=args.length,str=String(f).replace(formatRegExp,function(x){if("%%"===x)return"%";if(i>=len)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}}),x=args[i];len>i;x=args[++i])str+=isNull(x)||!isObject(x)?" "+x:" "+inspect(x);return str},exports.deprecate=function(fn,msg){function deprecated(){if(!warned){if(process.throwDeprecation)throw new Error(msg);process.traceDeprecation?console.trace(msg):console.error(msg),warned=!0}return fn.apply(this,arguments)}if(isUndefined(global.process))return function(){return exports.deprecate(fn,msg).apply(this,arguments)};if(process.noDeprecation===!0)return fn;var warned=!1;return deprecated};var debugEnviron,debugs={};exports.debuglog=function(set){if(isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||""),set=set.toUpperCase(),!debugs[set])if(new RegExp("\\b"+set+"\\b","i").test(debugEnviron)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else debugs[set]=function(){};return debugs[set]},exports.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=require("./support/isBuffer");var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))},exports.inherits=require("inherits"),exports._extend=function(origin,add){if(!add||!isObject(add))return origin;for(var keys=Object.keys(add),i=keys.length;i--;)origin[keys[i]]=add[keys[i]];return origin}}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":37,_process:36,inherits:20}],39:[function(require,module,exports){var EventEmitter=require("events"),inherits=require("util").inherits,ListenToEmitter=require("listento-emitter"),utils=require("./utils.js"),Canvas=function(config){EventEmitter.call(this),this.font_family=config.font_family||"Arial",this._loadBackground(config.background),this._set_el(),this._set_ctx()};module.exports=Canvas,inherits(Canvas,EventEmitter),Object.assign(Canvas.prototype,ListenToEmitter,{_set_el:function(){this.el=document.createElement("canvas")},translate:function(coordinate){this.ctx.translate(coordinate.x,coordinate.y)},_set_ctx:function(){this.ctx=this.el.getContext("2d")},set_width_and_height:function(width,aspect_ratio){this.set_width(width),this.set_height(utils.get_height_from_width(width,aspect_ratio))},draw:function(position,img,image_size){position=position||{x:0,y:0},this._fill_background(),this.ctx.drawImage(img,position.x,position.y,image_size.width,image_size.height)},get_width:function(){return this.width},get_height:function(){return this.height},set_width:function(width){this.width=this.el.width=width},set_height:function(height){this.height=this.el.height=height},rotate_and_draw:function(position,img,image_size,rotation){this.ctx.save(),this.ctx.translate(image_size.width/2,image_size.height/2),this.ctx.rotate(rotation*Math.PI/180),this.ctx.translate(-(image_size.width/2),-(image_size.height/2)),this.draw(position,img,image_size),this.ctx.restore()},_loadBackground:function(background){if(this.background="rgba(255,255,255,1)",background){var img=new Image;img.crossOrigin="use-credentials";var _this=this;img.onload=function(){_this.background=_this.ctx.createPattern(img,"repeat")},img.src=background}},_fill_background:function(){this.redraw(function(ctx){ctx.fillStyle=this.background,ctx.fillRect(0,0,this.get_width(),this.get_height())},this)},redraw:function(callback,scope){var ctx=this.ctx;ctx.save(),ctx.setTransform(1,0,0,1,0,0),callback.call(scope,ctx),ctx.restore()},render_overlay:function(){this.redraw(function(ctx){ctx.globalAlpha=.2,ctx.fillStyle="#000",ctx.fillRect(0,0,this.get_width(),this.get_height()),ctx.globalAlpha=1},this)},calculate_offset:function(dimension,a,b){return Math.round((dimension-(a-b))/2)},render_text:function(text,distribution,alignment,crop_window,scaleFn){this.render_overlay(),this.redraw(function(ctx){var fontSize=scaleFn?scaleFn(18):18,lineHeight=Math.round(1.7*fontSize),padding=Math.round(1.2*fontSize),width=this.get_width(),height=this.get_height(),x_letterbox_offset=crop_window?this.calculate_offset(width,crop_window[2],crop_window[0]):0,y_letterbox_offset=crop_window?this.calculate_offset(height,crop_window[3],crop_window[1]):0,maxWidth=Math.round(width-2*x_letterbox_offset-2*padding),x=x_letterbox_offset,y=y_letterbox_offset;ctx.font=fontSize+"pt "+this.font_family,ctx.fillStyle="#fff",ctx.textBaseline="middle",ctx.shadowColor="#000000",ctx.shadowOffsetX=0,ctx.shadowOffsetY=scaleFn?scaleFn(1):1,ctx.shadowBlur=scaleFn?scaleFn(1):1,"center"===alignment?(ctx.textAlign="center",x=width/2):"right"===alignment?(ctx.textAlign="right",x=width-x_letterbox_offset-padding):(ctx.textAlign="left",x=x_letterbox_offset+padding);var paras=text.split(/\r?\n|\r/g);paras=paras.map(function(para){for(var line="",lines=[],words=para.split(" "),n=0;n<words.length;n++){var testLine=line+words[n]+" ",metrics=ctx.measureText(testLine),testWidth=metrics.width;testWidth>maxWidth&&n>0?(lines.push(line.trim()),line=words[n]+" "):line=testLine}return lines.push(line.trim()),lines});var lineBreaks=paras.reduce(function(memo,para){return memo+para.length},-1),heightOffset=lineHeight*lineBreaks;y="top"===distribution?y_letterbox_offset+(padding+lineHeight/2):"middle"===distribution?Math.round((height-heightOffset)/2):height-y_letterbox_offset-(padding+lineHeight/2)-heightOffset,paras.forEach(function(para,i){para.forEach(function(line){ctx.fillText(line,x,y),y+=lineHeight})}),ctx.shadowColor="transparent"},this)}})},{"./utils.js":46,events:17,"listento-emitter":25,util:38}],40:[function(require,module,exports){var EventEmitter=require("events"),inherits=require("util").inherits,ListenToEmitter=require("listento-emitter"),UI=require("./ui.js"),InterfaceCanvas=require("./interface.js"),Croppy=function(element,config){if(!this._can_cut_the_mustard())throw"Browser does not cut the mustard - cannot continue";EventEmitter.call(this),this._set_el(element),this.config=Object.assign({width:this.el.clientWidth},config)};module.exports=Croppy,inherits(Croppy,EventEmitter),Object.assign(Croppy.prototype,ListenToEmitter,{readFromUrl:function(url){this._loadImage(url,!0)},readFromFile:function(files){var file=files[0];if(file.type.match("image.*")){var reader=new FileReader;reader.onload=function(e){this._loadImage(e.target.result)}.bind(this),reader.readAsDataURL(file)}},_render:function(img,config){this.ui=new UI(config),this.canvas=new InterfaceCanvas(img,config),this.el.appendChild(this.ui.el),this.el.appendChild(this.canvas.canvas.el),this._addListeners()},_addListeners:function(){this.listenTo(this.canvas,"cropped",this.handle_cropped.bind(this)),this.ui.items.forEach(function(action){var cb=this.canvas.actions[action];"undefined"!=typeof cb&&this.canvas.listenTo(this.ui,"ui:"+action,cb.bind(this.canvas))},this),this.canvas.listenTo(this.ui,"ui:text:input",this.canvas.handle_text_input.bind(this.canvas)),this.canvas.listenTo(this.ui,"ui:text:action",this.canvas.handle_text_action.bind(this.canvas))},_can_cut_the_mustard:function(){return window.FileReader?!0:!1},_loadImage:function(src,crossOrigin){var img=document.createElement("img");crossOrigin&&(img.crossOrigin="anonymous"),img.onload=function(){this._render(img,this.config)}.bind(this),img.src=src},_set_el:function(element){if("string"==typeof element&&(element=document.querySelector(element)),!element)throw"Parent dom container is not defined";this.el=element},handle_cropped:function(data){this.config.on_crop&&this.config.on_crop.call(null,data),this.emit("cropped",data)},detach:function(){[this.canvas.canvas.el,this.ui.el].forEach(function(e){e.parentNode.removeChild(e)})},set_ui_enabled:function(boolean){this.ui.is_enabled=boolean}})},{"./interface.js":41,"./ui.js":45,events:17,"listento-emitter":25,util:38}],41:[function(require,module,exports){var EventEmitter=require("events"),inherits=require("util").inherits,ListenToEmitter=require("listento-emitter"),Canvas=require("./canvas.js"),utils=require("./utils.js"),letterbox=require("./letterbox_mixins.js"),InterfaceCanvas=function(img,config){EventEmitter.call(this),this.config=Object.assign(this.config,config),this.zoom_level=0,this.rotation_angle=0,this._set_img(img),this._set_orientation_from_config(),this._set_canvas(),this._set_aspect_ratio(this.config.aspect_ratio),this._set_common_properties(),this._set_mouse_events("addEvent"),this.draw_to_canvas(this.origin)};module.exports=InterfaceCanvas,inherits(InterfaceCanvas,EventEmitter),Object.assign(InterfaceCanvas.prototype,ListenToEmitter,{zoom_amount:10,config:{aspect_ratio:"16:9",max_mask_size:160},_set_canvas:function(){this.canvas=new Canvas(this.config),this.crop_canvas=new Canvas(this.config)},_set_common_properties:function(){this.canvas.set_width_and_height(this.config.width,this.aspect_ratio),this._set_image_ratio(),this._set_letterbox_mixin(),this.letterbox._set_image_size.call(this),this._set_cached_image_size(),this.letterbox._set_crop_window_coordinates.call(this),this._set_coordinate("origin")},_set_orientation_from_config:function(){var has_orientation=["landscape","portrait"].includes(this.config.orientation);return has_orientation?void(this.orientation=this.config.orientation):this.img.width>=this.img.height?void(this.orientation="landscape"):void(this.orientation="portrait")},_swap_orientation:function(){this.orientation="landscape"===this.orientation?"portrait":"landscape"},_init_letterbox:function(){this._set_mask_size.apply(this,arguments),this.letterbox._reset_canvas_height_with_letterbox.call(this),this.letterbox._set_letterbox_coordinates.call(this)},_set_letterbox_mixin:function(){return this._set_raw_image_size(),this.image_size.width<this.canvas.get_width()?(this.letterbox=letterbox.horizontal,void this._init_letterbox(this.image_size.height,this.canvas.get_height())):this.image_size.height<this.canvas.get_height()?(this.letterbox=letterbox.vertical,void this._init_letterbox(this.image_size.width,this.canvas.get_width())):(this.letterbox=letterbox.none,void this._init_letterbox(0,0))},_set_cached_image_size:function(){this.cached_image_size=this.image_size},_set_image_ratio:function(){this.image_ratio=utils.calculate_aspect_ratio(this.img.width,this.img.height)},_set_raw_image_size:function(){this.image_size={height:utils.get_height_from_width(this.canvas.get_width(),this.image_ratio),width:utils.get_width_from_height(this.canvas.get_height(),this.image_ratio)}},_set_mask_size:function(image_size,canvas_size){var mask_size=image_size-canvas_size;this.max_mask_size=mask_size>this.config.max_mask_size?this.config.max_mask_size:mask_size,this._set_half_mask_size()},_set_half_mask_size:function(){this.half_mask_size=Math.round(this.max_mask_size/2)},_get_aspect_ratio_from_config:function(){},_set_aspect_ratio:function(aspect_ratio){if("string"!=typeof aspect_ratio)return!1;aspect_ratio=aspect_ratio.split(":");var width=parseInt(aspect_ratio[0],10),height=parseInt(aspect_ratio[1],10);this.aspect_ratio="landscape"===this.orientation?utils.calculate_aspect_ratio(width,height):utils.calculate_aspect_ratio(height,width)},is_panning:!1,_set_img:function(img){this.img=img},_set_coordinate:function(name,coordinate){this[name]=coordinate||{x:0,y:0}},_increment_origin:function(coorinate){this.origin.x+=coorinate.x||0,this.origin.y+=coorinate.y||0},addEvent:function(event){this.canvas.el.addEventListener(event,this,!1)},removeEvent:function(event){this.canvas.el.removeEventListener(event,this,!1)},handleEvent:function(e){switch(e.preventDefault(),e.type){case"mousedown":this._on_mousedown(e);break;case"mousemove":this._on_mousemove(e);break;case"mouseup":case"mouseleave":case"mouseout":this._on_mouseup(e)}},_set_mouse_events:function(method){["mousedown","mousemove","mouseup","mouseleave"].forEach(this[method],this),this[method]("mouseup",window)},_draw_letter_box:function(){this.letterbox_coordinates&&this.canvas.redraw(function(ctx){ctx.fillStyle="rgba(0,0,0,0.8)",ctx.fillRect.apply(ctx,this.letterbox_coordinates[0]),ctx.fillRect.apply(ctx,this.letterbox_coordinates[1])},this)},get_mouse_position:function(e){return{x:e.layerX,y:e.layerY}},_set_start_position:function(e){this.start_position=this.get_mouse_position(e)},_on_mousedown:function(e){this._set_coordinate("_distance_moved"),this.is_panning=!0,this._set_start_position(e)},_on_mousemove:function(e){if(this.is_panning){var current_position=this.get_mouse_position(e),start_position=this.start_position;this._set_coordinate("_distance_moved",{x:current_position.x-start_position.x,y:current_position.y-start_position.y}),this.draw_to_canvas(this._distance_moved)}},_on_mouseup:function(e){this.is_panning&&(this.is_panning=!1,this._update_translate_origin(this._distance_moved),this._snap_to_bounds())},coordiate_correction:function(dimension,top_left_offset,bottom_right_offset,origin_offset){var image_dimension=this.image_size[dimension],canvas_dimension=this.canvas[dimension],difference=image_dimension+origin_offset;return bottom_right_offset-top_left_offset>image_dimension?(canvas_dimension-image_dimension)/2-origin_offset:difference>image_dimension+top_left_offset?-origin_offset+top_left_offset:bottom_right_offset>difference?Math.round(bottom_right_offset-difference):0},_update_translate_origin:function(coordinate){this._increment_origin(coordinate),this.canvas.translate(coordinate)},_snap_to_bounds:function(){var x=0,y=0;if(this.rotation_angle)return!1;if(x=this.coordiate_correction("width",this.crop_window[0],this.crop_window[2],this.origin.x),y=this.coordiate_correction("height",this.crop_window[1],this.crop_window[3],this.origin.y),!x&&!y)return!1;var correction={x:x,y:y};return this.draw_to_canvas(correction),this._update_translate_origin(correction),!0},_perform_zoom:function(){var width=this.cached_image_size.width+this.zoom_amount*this.zoom_level,height=utils.get_height_from_width(width,this.image_ratio);this.image_size={width:width,height:height},this._snap_to_bounds()||this.draw_to_canvas()},_increment_rotation_angle:function(){this.rotation_angle+=90,this.rotation_angle=this.rotation_angle>=360?0:this.rotation_angle},_get_transformed_coords:function(position){if(!this.rotation_angle)return position;var radians=this.rotation_angle*Math.PI/180;return{x:Math.round(position.x*Math.cos(radians)+position.y*Math.sin(radians)),y:Math.round(-position.x*Math.sin(radians)+position.y*Math.cos(radians))}},draw_to_canvas:function(position){position=position||{x:0,y:0},this.canvas[this.rotation_angle?"rotate_and_draw":"draw"](this._get_transformed_coords(position),this.img,this.image_size,this.rotation_angle),this._draw_letter_box(),this.text&&this.canvas.render_text(this.text,this.distribution,this.alignment,this.crop_window)},crop:function(){var min_width=this.config.min_width||this.canvas.width,crop_size=this.img.width>=min_width?this.img:{width:min_width,height:utils.get_height_from_width(min_width,this.image_ratio)},crop_scale=utils.scale.bind(void 0,crop_size.width/this.image_size.width),crop_window=this.crop_window.map(crop_scale,this),position={x:crop_scale(this.origin.x)-crop_window[0],y:crop_scale(this.origin.y)-crop_window[1]};return this.crop_canvas.set_width(crop_window[2]-crop_window[0]),this.crop_canvas.set_height(crop_window[3]-crop_window[1]),this.crop_canvas[this.rotation_angle?"rotate_and_draw":"draw"](this._get_transformed_coords(position),this.img,crop_size,this.rotation_angle),this.text&&this.crop_canvas.render_text(this.text,this.distribution,this.alignment,null,crop_scale),this.crop_canvas.el.toDataURL("image/jpeg")},handle_text_input:function(data){this.text=data,this.draw_to_canvas()},handle_text_action:function(type,value){this[type]=value,this.draw_to_canvas()},reset:function(){this._set_common_properties(),this._perform_zoom(),this._snap_to_bounds()||this.draw_to_canvas()},actions:{zoomin:function(){++this.zoom_level,this._perform_zoom()},zoomout:function(){--this.zoom_level,this._perform_zoom()},done:function(){var image=document.createElement("img");image.src=this.crop(),this.emit("cropped",this.crop())},rotate:function(){this._increment_rotation_angle(),this.draw_to_canvas({x:-(this.image_size.width/2),y:-(this.image_size.height/2)}),this.reset()},"16:9":function(){this._set_aspect_ratio("16:9"),this.reset()},"4:3":function(){this._set_aspect_ratio("4:3"),this.reset()},"1:1":function(){this._set_aspect_ratio("1:1"),this.reset()},orientation:function(){this._swap_orientation(),this.reset()}}})},{"./canvas.js":39,"./letterbox_mixins.js":42,"./utils.js":46,events:17,"listento-emitter":25,util:38}],42:[function(require,module,exports){var utils=require("./utils.js");module.exports={horizontal:{_reset_canvas_height_with_letterbox:function(){this.canvas.set_height(this.canvas.get_height()+this.max_mask_size)},_set_image_size:function(){this.image_size={width:this.canvas.get_width(),height:this.image_size.height}},_set_letterbox_coordinates:function(){this.letterbox_coordinates=[[0,0,this.canvas.get_width(),this.half_mask_size],[0,this.canvas.get_height()-this.half_mask_size,this.canvas.get_width(),this.half_mask_size]]},_set_crop_window_coordinates:function(){this.crop_window=[0,this.half_mask_size,this.canvas.get_width(),this.canvas.get_height()-this.half_mask_size]}},vertical:{_reset_canvas_height_with_letterbox:function(){this.canvas.set_height(utils.get_height_from_width(this.canvas.get_width()-this.max_mask_size,this.aspect_ratio))},_set_image_size:function(){this.image_size={width:utils.get_width_from_height(this.canvas.get_height(),this.image_ratio),height:this.canvas.get_height()}},_set_letterbox_coordinates:function(){this.letterbox_coordinates=[[0,0,this.half_mask_size,this.canvas.get_height()],[this.canvas.get_width()-this.half_mask_size,0,this.half_mask_size,this.canvas.get_height()]]},_set_crop_window_coordinates:function(){this.crop_window=[this.half_mask_size,0,this.canvas.get_width()-this.half_mask_size,this.canvas.get_height()]}},none:{_set_crop_window_coordinates:function(){this.crop_window=[0,0,this.canvas.get_width(),this.canvas.get_height()]},_reset_canvas_height_with_letterbox:function(){},_set_image_size:function(){},_set_letterbox_coordinates:function(){this.letterbox_coordinates=void 0}}}},{"./utils.js":46}],43:[function(require,module,exports){({escape:require("lodash.escape")});module.exports=function(obj){var __p="";Array.prototype.join;with(obj||{})__p+='<div class="croppy__actions"> <div class="croppy__zoom croppy__action"> <a class="croppy-icon croppy__zoomin js-croppy-btn" data-action="zoomin">zoomin</a> <a class="croppy-icon croppy__zoomout js-croppy-btn" data-action="zoomout">zoomout</a> <span class="croppy__action__label">Zoom</span> </div> <div class="croppy__rotate croppy__action"> <a class="croppy-icon croppy__rotate js-croppy-btn" data-action="rotate">rotate</a> <span class="croppy__action__label">Rotate</span> </div> ',"undefined"!=typeof enable_aspect_ratio&&enable_aspect_ratio&&(__p+=' <div class="croppy__zoom croppy__action"> <a class="croppy-icon croppy__16-x-9 js-croppy-btn" data-action="16:9">16:9</a> <a class="croppy-icon croppy__4-x-3 js-croppy-btn" data-action="4:3">4:3</a> <a class="croppy-icon croppy__1-x-1 js-croppy-btn" data-action="1:1">1:1</a> <span class="croppy__action__label">Image ratio</span> </div> '),__p+=' <div class="croppy__text croppy__action"> <a class="croppy-icon croppy__text js-croppy-btn" data-action="text">croppytext</a> <span class="croppy__action__label">Text</span> </div> <div class="croppy__save croppy__action"> <a class="croppy-icon croppy__done js-croppy-btn" data-action="done">done</a> <span class="croppy__action__label">Save</span> </div> </div>';return __p}},{"lodash.escape":27}],44:[function(require,module,exports){({escape:require("lodash.escape")});module.exports=function(obj){var __t,__p="";Array.prototype.join;with(obj||{})__p+='<div class="croppy-text"> <div class="croppy-text__right"> <fieldset class="croppy-text__controls"> <legend class="croppy-text__label">Alignment</legend> <input class="croppy-text__control" id="croppy_align_left" type="radio" checked="checked" name="alignment" value="left"> <label for="croppy_align_left" class="croppy-text__btn">left</label> <input class="croppy-text__control" id="croppy_align_center" type="radio" name="alignment" value="center"> <label for="croppy_align_center" class="croppy-text__btn">center</label> <input class="croppy-text__control" id="croppy_align_right" type="radio" name="alignment" value="right"> <label for="croppy_align_right" class="croppy-text__btn">right</label> </fieldset> <fieldset class="croppy-text__controls"> <legend class="croppy-text__label">Distribution</legend> <input class="croppy-text__control" id="croppy_dist_top" type="radio" name="distribution" value="top"> <label for="croppy_dist_top" class="croppy-text__btn">top</label> <input class="croppy-text__control" id="croppy_dist_middle" type="radio" name="distribution" value="middle"> <label for="croppy_dist_middle" class="croppy-text__btn">middle</label> <input class="croppy-text__control" id="croppy_dist_bottom" type="radio" checked="checked" name="distribution" value="bottom"> <label for="croppy_dist_bottom" class="croppy-text__btn">bottom</label> </fieldset> </div> <div class="croppy-text__left"> <label for="croppy_text_headline" class="croppy-text__label">Headline</label> <textarea id="croppy_text_headline" class="js-croppy-headline">'+(null==(__t=default_text)?"":__t)+"</textarea> </div> </div>";return __p}},{"lodash.escape":27}],45:[function(require,module,exports){var EventEmitter=require("events"),inherits=require("util").inherits,buttonTemplate=require("./templates/button.jst"),textTemplate=require("./templates/text.jst"),UI=function(config){EventEmitter.call(this),this.config=Object.assign(config,{default_text:"Some text…"}),this.createEl(),this.render(),this.delegateEvents()};module.exports=UI,inherits(UI,EventEmitter),Object.assign(UI.prototype,{is_enabled:!0,delegateEvents:function(){this.undelegateEvents();var callIfMatches=function(selector,f,e){e=e.target;var matches=function(el,selector){return(el.matches||el.matchesSelector||el.msMatchesSelector||el.mozMatchesSelector||el.webkitMatchesSelector||el.oMatchesSelector).call(el,selector)};return matches(e,selector)?f(e):void 0},evs={click:callIfMatches.bind(void 0,".js-croppy-btn",this.dispatch_event.bind(this)),keyup:callIfMatches.bind(void 0,".js-croppy-headline",this.dispatch_text.bind(this)),change:callIfMatches.bind(void 0,".croppy-text__control",this.dispatch_text_button.bind(this))};Object.keys(evs).forEach(function(type){this.el.addEventListener(type,evs[type])},this),this.delegatedEvents=evs},items:["zoomin","zoomout","done","rotate","orientation","text","16:9","4:3","1:1"],createEl:function(){this.el=document.createElement("div"),this.el["class"]="croppy__ui"},render:function(){return this.el.innerHTML=buttonTemplate(this.config.ui),this},dispatch_text:function(e){this.emit("ui:text:input",e&&e.value)},dispatch_text_button:function(e){this.emit("ui:text:action",e.name,e.value)},dispatch_event:function(e){var action=e.dataset.action;this.is_enabled&&this.emit("ui:"+action),"text"===action&&this.toggle_text_ui()},toggle_text_ui:function(){var text_ui=this.el.querySelector(".croppy-text");null!==text_ui?(this.dispatch_text(),text_ui.parentNode.removeChild(text_ui)):(this.el.insertAdjacentHTML("beforeend",textTemplate({default_text:this.config.default_text})),this.dispatch_text({target:{value:this.config.default_text}}))},undelegateEvents:function(){"undefined"!=typeof this.delegatedEvents&&this.delegatedEvents.forEach(function(ev){this.el.removeEventListener(ev.type,ev.listener)})},remove:function(){this.undelegateEvents(),this.el.parentNode.removeChild(this.el)}})},{"./templates/button.jst":43,"./templates/text.jst":44,events:17,util:38}],46:[function(require,module,exports){module.exports.calculate_aspect_ratio=function(width,height){return height/width},module.exports.get_height_from_width=function(width,aspect_ratio){return Math.round(width*aspect_ratio)},module.exports.get_width_from_height=function(height,aspect_ratio){return Math.round(height/aspect_ratio)},module.exports.scale=function(scale_factor,num){return Math.round(num*scale_factor)}},{}],croppy:[function(require,module,exports){require("array-includes").shim(),require("es5-shim"),require("object.assign").shim(),module.exports=require("./src/")},{"./src/":40,"array-includes":2,"es5-shim":16,"object.assign":33}]},{},[]);